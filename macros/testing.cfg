[gcode_macro TEST_FLOW]
description: Print EM-Test-File with given parameters
gcode:
    {% set ex_temp = params.EXTRUDER_TEMP|default(240)|float %}
    {% set bed_temp = params.BED_TEMP|default(110)|float %}
    {% set ch_temp = params.CHAMBER_TEMP|default(60)|float %}
    {% set pa = params.PA|default(0)|float %}

    SDCARD_PRINT_FILE FILENAME=TEST/EM_Cube_Test.gcode
    M900 K{pa}
    PRINT_START BED_TEMP={bed_temp} EXTRUDER_TEMP={ex_temp} MATERIAL={ch_temp}
    M900 K{pa}
    M24
    PRINT_END

[gcode_macro TEST_PA]
description: Print EM-Test-File with given parameters
gcode:
    {% set ex_temp = params.EXTRUDER_TEMP|default(240)|float %}
    {% set bed_temp = params.BED_TEMP|default(110)|float %}
    {% set ch_temp = params.CHAMBER_TEMP|default(60)|float %}

    SDCARD_PRINT_FILE FILENAME=TEST/Test_PA.gcode
    PRINT_START BED_TEMP={bed_temp} EXTRUDER_TEMP={ex_temp} MATERIAL={ch_temp}
    M900 K0
    M24
    PRINT_END